<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="poster.css">
        <title>The Comedy Experiement</title>
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="scripts/kjua-master/dist/kjua.min.js"></script>
        <script src="scripts/html2canvas.min.js"></script>

        <div id="capture"></div>
        <input id="export" type="button" value="export" />

        <!-- Perfomer images are circles 874 x 807 -->
        <div class="poster">
            <div class="banner">
                    <div class="banner-wrapper">
                        <img class="banner-img" src="images/FullLogoWhitebackground.jpg" alt="The Comedy Experiment logo showing test tubes and pipes"/>
                    </div>
                    <div class="logo-wrapper">
                        <img class="logo-img" src="images/logoWithText.png"/>
                    </div>
                </div>
            <div class="poster-body">
                <div class="act1 acts">
                    <div class="vertical-align"></div>
                    <img class="pink-flask flask" src="images/pink_flask.png"/>
                    <img class="performer performer1" src="images/headliner.png"/>
                    <div class="act-text-block">
                        <div class="act-type act-text">Headliner</div>
                        <div class="act-name act-text">Nik Coppin</div>
                        <div class="act-description act-text">"The banter is slick and engaging...He goes off on the sort of wild tangents beloved of messers Izzard and Noble...immensely likeable and refreshingly uncynical" - Chortle"</div>
                    </div>
                    <div class="show-info">
                        <div class="free-entry">Free Entry</div>
                        <div class="over-18s">over 18s only</div>
                    </div>
                </div>
                <div class="act2 acts">
                    <span class="vertical-align"></span>
                    <img class="pink-flask flask" src="images/blue_flask.png"/>
                    <img class="performer performer2" src="images/host.png"/>
                    <div class="act-text-block">
                        <div class="act-type act-text">Host</div>
                        <div class="act-name act-text">Alicia Davison</div>
                        <div class="act-description act-text">Brighton's newest MC on the block!</div>
                    </div>
                    <div class="show-date show-info">
                        <div class="show-day">Saturday</div>
                        <div class="perf-date">22nd January '22</div>
                        <div class="doors-open">Doors open at 15:45</div>
                        <div class="show-starts">Show starts at 16:00</div>
                    </div>
                </div>
                <div class="acts act3">
                    <span class="vertical-align"></span>
                    <img class="yellow-flask flask" src="images/yellow_flask.png"/>
                    <img class="performer performer3" src="images/opener.png" />
                    <div class="act-text-block">
                        <div class="act-type act-text">Opener</div>
                        <div class="act-name act-text">Alex Petrovic</div>
                        <div class="act-description act-text">Alex has supported Sean McLouhlin and Mark Simmons</div>
                    </div>
                    <div class="show-address show-info">
                        <div class="addr-line">Caroline of Brunswick</div>
                        <div class="addr-line">39 Ditchling Road</div>
                        <div class="addr-line">Brighton</div>
                        <div class="addr-line last-addr-line">BN1 4SB</div>
                    </div>
                </div>
                <div class="footer">
                    <div class="qrcodeCanvas" origin-clean="true"></div>
                    <div class="ticket-link">
                        Tickets from: <a href=https://thecomedyexperimentjn.eventbrite.co.uk>https://thecomedyexperimentjn.eventbrite.co.uk</a>
                    </div>
                </div>
            </div>
        </div>
        <script>
            jQuery(".qrcodeCanvas").kjua({
                text: "https://thecomedyexperimentnov.eventbrite.co.uk",
                render: 'image',
                size: 1200,

            });	
        </script>
        <script>
            document.getElementById("export").onclick = function () { 
                html2canvas(document.querySelector(".poster"),
                    {
                        allowTaint: false,
                        windowWidth: 8000,
                        windowHeight: 8000,
                        scrollX: -window.scrollX,
                        scrollY: -window.scrollY,
                    }).then(canvas => {
                    var largeImage = window.open()
                    largeImage.document.write ('<title>Large Size Image</title><img src=' + canvas.toDataURL("image/png")+ ' alt="large poster">' );
                }).catch (error => console.log("Error: " + error));

                html2canvas(document.querySelector(".poster"),
                    {
                        allowTaint: false,
                        windowWidth: 1000,
                        windowHeight: 1000,
                        scrollX: -window.scrollX,
                        scrollY: -window.scrollY,
                    }).then(canvas => {
                    var smallImage = window.open()
                    smallImage.document.write ('<title>Small Size Image</title><img src=' + canvas.toDataURL("image/png")+ ' alt="small poster">' );
                }).catch (error => console.log("Error: " + error));
            };
        </script>
    </body>
</html>