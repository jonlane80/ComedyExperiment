<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="poster.css">
        <title>The Comedy Experiement</title>
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="scripts/kjua-master/dist/kjua.min.js"></script>
        <script src="scripts/html2canvas.min.js"></script>

        <div id="capture"></div>
        <input id="largePoster" type="button" value="Large Poster" />
        <input id="smallPoster" type="button" value="Small Poster" />

        <!-- Perfomer images are circles 874 x 807 -->
        <!-- aka 437 x 403 -->
        <div class="poster">
            <div class="posterlayout">
            <div class="bannerLocation">
            <div class="banner">
                    <div class="banner-wrapper">
                        <img class="banner-img" src="images/FullLogoWhitebackground.jpg" alt="The Comedy Experiment logo showing test tubes and pipes"/>
                    </div>
                    <div class="logo-wrapper">
                        <img class="logo-img" src="images/logoWithText.png"/>
                    </div>
                    <div class="fringe-banner">
                        <img class="fringe-img" src="images/edinburgh_fringe_banner.png" alt="Edinburgh Fringe Special"/>
                    </div>
                </div>
            </div>
            <!-- <div class="poster-body"> -->
                <div class="annamorrisSection">
                    <img class="annamorris" src="images/anna_morris.jpg"/>
                </div>
                <div>
                    <div class="act1 acts">
                        <div class="vertical-align"></div>
                        <div class="show-info">
                            <div class="free-entry">Free Entry</div>
                            <div class="over-18s">over 18s only</div>
                        </div>
                    </div>
                </div>
                <div class="act2 acts">
                    <span class="vertical-align"></span>
                    <div class="show-date show-info">
                        <div class="show-day">Saturday</div>
                        <div class="perf-date">11th June '22</div>
                        <div class="doors-open">Doors open at 15:45</div>
                        <div class="show-starts">Show starts at 16:00</div>
                    </div>
                </div>
                <div class="acts act3">
                    <span class="vertical-align"></span>
                    <div class="show-address show-info">
                        <div class="addr-line">Caroline of Brunswick</div>
                        <div class="addr-line">39 Ditchling Road</div>
                        <div class="addr-line">Brighton</div>
                        <div class="addr-line last-addr-line">BN1 4SB</div>
                    </div>
                </div>
                <div class="footer">
                    <div class="qrcodeCanvas" origin-clean="true"></div>
                    <div class="ticket-link">
                        Tickets from: <a id="ticket-link" href="foo">bar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <script>
            var ticketLink = "https://thecomedyexperimentjun.eventbrite.co.uk"
            jQuery(".qrcodeCanvas").kjua({
                text: ticketLink,
                render: 'image',
                size: 1200,
            });	
            var link = document.getElementById('ticket-link'); 
            link.href = ticketLink
            link.text = ticketLink
        </script>
        <script>
            document.getElementById("largePoster").onclick = function () { 
                html2canvas(document.querySelector(".poster"),
                    {
                        allowTaint: false,
                        windowWidth: 8000,
                        windowHeight: 8000,
                        scrollX: -window.scrollX,
                        scrollY: -window.scrollY,
                    }).then(canvas => {
                    var largeImageUrl = canvas.toDataURL("image/png")
                    var largeImage = window.open(largeImageUrl, "Large Poster")
                    largeImage.document.write ('<title>Large Size Image</title><img src=' + largeImageUrl + ' alt="large poster">' );
                }).catch (error => console.log("Error: " + error));
            };
        </script>
        <script>
            document.getElementById("smallPoster").onclick = function () { 
                html2canvas(document.querySelector(".poster"),
                    {
                        allowTaint: false,
                        windowWidth: 1000,
                        windowHeight: 1000,
                        scrollX: -window.scrollX,
                        scrollY: -window.scrollY,
                    }).then(canvas => {
                    var smallImageUrl = canvas.toDataURL("image/png")
                    var smallImage = window.open(smallImageUrl, "Small Poster")
                    smallImage.document.write ('<title>Small Size Image</title><img src=' + smallImageUrl + ' alt="small poster">' );
                }).catch (error => console.log("Error: " + error));
            };
        </script>
    </body>
</html>