<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="poster.css">
        <title>The Comedy Experiement</title>
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="scripts/kjua-master/dist/kjua.min.js"></script>
        <script src="scripts/html2canvas.min.js"></script>

        <div id="capture"></div>
        <input id="largePoster" type="button" value="Large Poster" />
        <input id="smallPoster" type="button" value="Small Poster" />

        <!-- Perfomer images are circles 874 x 807 -->
        <!-- aka 437 x 403 -->
        <div class="poster">
            <div class="banner">
                    <div class="banner-wrapper">
                        <img class="banner-img" src="images/FullLogoWhitebackground.jpg" alt="The Comedy Experiment logo showing test tubes and pipes"/>
                    </div>
                    <div class="logo-wrapper">
                        <img class="logo-img" src="images/logoWithText.png"/>
                    </div>
                </div>
            <div class="poster-body">
                <div class="act1 acts">
                    <div class="vertical-align"></div>
                    <img class="pink-flask flask" src="images/pink_flask.png"/>
                    <img class="performer performer1" src="images/lauralexx.png"/>
                    <div class="act-text-block">
                        <!-- <div class="act-type act-text">Headliner</div> -->
                        <!-- <div class="act-name act-text">Elliot Steel</div> -->
                        <!-- <div class="act-description act-text">As seen on TV on Comedy Central's 'Roast Battle' and 'Live from The Comedy Store'</div> -->
                        <div class="generic-description act-text">The comedy experiment is a Brighton's no 1 sell-out afternoon comedy club!<br/>
                            See top TV comedians for free/pay what you want mixed with first time and up and coming local acts
                        </div>
                    </div>
                    <div class="show-info">
                        <div class="free-entry">Free Entry</div>
                        <div class="over-18s">over 18s only</div>
                    </div>
                </div>
                <div class="act2 acts">
                    <span class="vertical-align"></span>
                    <img class="pink-flask flask" src="images/blue_flask.png"/>
                    <img class="performer performer2" src="images/callybeaton.png"/>
                    <div class="act-text-block">
                        <!-- <div class="act-type act-text">Host</div>
                        <div class="act-name act-text">Martin Warren</div>
                        <div class="act-description act-text">The Comedy Experiments resident MC</div> -->
                        <div class="generic-description act-text">Previous acts have included Elliot Steel, Cally Beaton and Laura Lexx</div>
                    </div>
                    <div class="show-date show-info">
                        <div class="perf-date">Every 2nd and</div>
                        <div class="perf-date">4th Saturday</div>
                        <div class="perf-date">Every month</div>
                        <!-- <div class="show-starts">Show starts at 16:00</div> -->
                    </div>
                </div>
                <div class="acts act3">
                    <span class="vertical-align"></span>
                    <img class="yellow-flask flask" src="images/yellow_flask.png"/> 
                    <img class="performer performer3" src="images/elliotsteele.png" />
                    <div class="act-text-block">
                        <!-- <div class="act-type act-text">Opener</div>
                        <div class="act-name act-text">Nik Coppin</div>
                        <div class="act-description act-text">'Likeable and refreshingly uncynical' - Chortle</div> -->
                        <div class="generic-description act-text">Join the hottest comedy show in Brighton on the 2nd and 4th Saturday of every month at 4pm</div>
                    </div>
                    <div class="show-address show-info">
                        <div class="addr-line">Caroline of Brunswick</div>
                        <div class="addr-line">39 Ditchling Road</div>
                        <div class="addr-line">Brighton</div>
                        <div class="addr-line last-addr-line">BN1 4SB</div>
                    </div>
                </div>
                <div class="footer">
                    <div class="qrcodeCanvas" origin-clean="true"></div>
                    <div class="ticket-link">
                        <!-- Tickets from: <a id="ticket-link" href="foo">bar</a> -->
                        More info on our facebook page.
                        </div>
                    <div class="ticket-link">
                        <a id="ticket-link" href="foo">bar</a>
                    </div>
                </div>
                <div class="footer2"></div>
            </div>
        </div>
        <script>
            // var ticketLink = "https://thecomedyeperimentjun.eventbrite.co.uk"
            var ticketLink = "https://www.facebook.com/TheComedyExperiment/"
            jQuery(".qrcodeCanvas").kjua({
                text: ticketLink,
                render: 'image',
                size: 1200,
            });	
            var link = document.getElementById('ticket-link'); 
            link.href = ticketLink
            link.text = ticketLink
        </script>
        <script>
            document.getElementById("largePoster").onclick = function () { 
                html2canvas(document.querySelector(".poster"),
                    {
                        allowTaint: false,
                        windowWidth: 8000,
                        windowHeight: 8000,
                        scrollX: -window.scrollX,
                        scrollY: -window.scrollY,
                    }).then(canvas => {
                    var largeImageUrl = canvas.toDataURL("image/png")
                    var largeImage = window.open(largeImageUrl, "Large Poster")
                    largeImage.document.write ('<title>Large Size Image</title><img src=' + largeImageUrl + ' alt="large poster">' );
                }).catch (error => console.log("Error: " + error));
            };
        </script>
        <script>
            document.getElementById("smallPoster").onclick = function () { 
                html2canvas(document.querySelector(".poster"),
                    {
                        allowTaint: false,
                        windowWidth: 1000,
                        windowHeight: 1000,
                        scrollX: -window.scrollX,
                        scrollY: -window.scrollY,
                    }).then(canvas => {
                    var smallImageUrl = canvas.toDataURL("image/png")
                    var smallImage = window.open(smallImageUrl, "Small Poster")
                    smallImage.document.write ('<title>Small Size Image</title><img src=' + smallImageUrl + ' alt="small poster">' );
                }).catch (error => console.log("Error: " + error));
            };
        </script>
    </body>
</html>